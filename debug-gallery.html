<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery Debug Test</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .debug-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            border: 2px solid #000;
            padding: 10px;
            z-index: 9999;
            max-width: 300px;
        }
        .debug-info {
            margin: 5px 0;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="debug-panel">
        <h3>Debug Info</h3>
        <div id="debug-output"></div>
        <button onclick="debugGallery()">Debug Gallery</button>
        <button onclick="testAllFilter()">Test All Filter</button>
        <button onclick="testAvailableFilter()">Test Available Filter</button>
    </div>

    <main>
        <section class="gallery-content">
            <div class="container">
                <div class="gallery-filter">
                    <button class="filter-btn" data-filter="all">All Rams</button>
                    <button class="filter-btn active" data-filter="available">Available</button>
                </div>

                <div class="gallery-grid" id="gallery-grid">
                    <div class="gallery-item" data-category="champion available">
                        <div class="gallery-item-content">
                            <h3>Thunderbolt</h3>
                            <p>Champion + Available</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="available">
                        <div class="gallery-item-content">
                            <h3>Summit</h3>
                            <p>Available only</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="champion retired">
                        <div class="gallery-item-content">
                            <h3>Legend</h3>
                            <p>Champion + Retired</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        function debugGallery() {
            const output = document.getElementById('debug-output');
            const filterButtons = document.querySelectorAll('.filter-btn');
            const galleryItems = document.querySelectorAll('.gallery-item');
            
            let debug = `<div class="debug-info">Filter Buttons: ${filterButtons.length}</div>`;
            debug += `<div class="debug-info">Gallery Items: ${galleryItems.length}</div>`;
            
            galleryItems.forEach((item, index) => {
                const category = item.getAttribute('data-category');
                const display = window.getComputedStyle(item).display;
                const opacity = window.getComputedStyle(item).opacity;
                debug += `<div class="debug-info">Item ${index}: category="${category}", display="${display}", opacity="${opacity}"</div>`;
            });
            
            output.innerHTML = debug;
        }

        function testAllFilter() {
            applyFilter('all');
            setTimeout(debugGallery, 100);
        }

        function testAvailableFilter() {
            applyFilter('available');
            setTimeout(debugGallery, 100);
        }

        // Copy the exact filter function from the main script
        function applyFilter(filterValue) {
            const galleryItems = document.querySelectorAll('.gallery-item');
            console.log(`Applying filter: ${filterValue}`);
            console.log(`Found ${galleryItems.length} gallery items`);
            
            galleryItems.forEach((item, index) => {
                const itemCategories = item.getAttribute('data-category');
                console.log(`Item ${index}: category="${itemCategories}", filterValue="${filterValue}"`);
                
                if (filterValue === 'all' || (itemCategories && itemCategories.includes(filterValue))) {
                    console.log(`Showing item ${index}`);
                    item.style.display = 'block';
                    item.style.opacity = '1';
                    item.style.transform = 'translateY(0)';
                } else {
                    console.log(`Hiding item ${index}`);
                    item.style.opacity = '0';
                    item.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        item.style.display = 'none';
                    }, 300);
                }
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filterValue = this.getAttribute('data-filter');
                    console.log(`Button clicked: ${filterValue}`);
                    
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Apply filter
                    applyFilter(filterValue);
                });
            });
            
            // Apply initial filter
            applyFilter('available');
            debugGallery();
        });
    </script>
</body>
</html>